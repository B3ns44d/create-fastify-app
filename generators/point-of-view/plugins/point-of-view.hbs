'use strict'

const fp = require('fastify-plugin')
const pov = require('point-of-view')
const path = require('path')

module.exports = fp(async function (fastify, opts) {
  const templateFolder = path.join(process.cwd(), 'src', {{views_directory}})

  fastify.register(pov, {
    engine: {
      {{engine}}: require('{{engine}}')
    },
    includeViewExtension: true,
    templates: templateFolder,
    options: {
      filename: templateFolder
    }
  })
})
